<!DOCTYPE html>
<html>
<body>
<h2>Login</h2>
<input id="name" placeholder="Name">
<input id="pass" placeholder="Passwort">
<button onclick="login()">Login</button>

<script>
async function login() {
    const r = await fetch("/api/auth/login", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            name: document.getElementById("name").value,
            password: document.getElementById("pass").value
        })
    });

    const data = await r.json();

    if (data.role === "admin") location.href = "admin.html";
    else if (data.role === "student") location.href = "student.html";
    else alert(data.error);
}
</script>

</body>
</html>
